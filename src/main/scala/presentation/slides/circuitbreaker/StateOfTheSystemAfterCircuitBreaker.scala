package com.github.morotsman
package presentation.slides.circuitbreaker

import presentation.tools.{Input, NConsole, Slide}

import cats.effect.Sync

case class StateOfTheSystemAfterCircuitBreaker[F[_] : Sync : NConsole]() extends Slide[F] {
  val text =
    """
      |
      |
      |  ___        _   _         _   _                                      _      _    _                               _                             _  __
      | | _ ) ___  | |_(_)_ _  __| | | |_ ___   _  _ ___ _  _ _ _   _ _  ___(_)__ _| |_ | |__  ___ _ _ ___  __ _ _ _  __| |  _  _ ___ _  _ _ _ ___ ___| |/ _|
      | | _ \/ -_) | / / | ' \/ _` | |  _/ _ \ | || / _ \ || | '_| | ' \/ -_) / _` | ' \| '_ \/ _ \ '_(_-< / _` | ' \/ _` | | || / _ \ || | '_(_-</ -_) |  _|
      | |___/\___| |_\_\_|_||_\__,_|  \__\___/  \_, \___/\_,_|_|   |_||_\___|_\__, |_||_|_.__/\___/_| /__/ \__,_|_||_\__,_|  \_, \___/\_,_|_| /__/\___|_|_|
      |                                         |__/                          |___/                                          |__/
      |
      |
      |  ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___                           ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___                           ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___
      | |___|___|___|___|___|___|___|___|___|___|___|___|                         |___|___|___|___|___|___|___|___|___|___|___|___|                         |___|___|___|___|___|___|___|___|___|___|___|___|
      | | |       Service A couldn't get it's         | | No Increase in latancy  | |        Is not wasting resources           | |                         | |                                           | |
      | | |       request handled, but is not         | |  We can't handle your   | |   Remember also that the service might    | |                         | |                                           | |
      | | |       wasting resources. Fallback?        | |  request at the moment. | |   have other responsibilities.            | |    Almost no calls!     | |                                           | |
      | |_|     ___              _            _       |_|        Sorry!           |_|     ___              _          ___       |_|  I see you are having   |_|           ___     _ _ _                   |_|
      | | |    / __| ___ _ ___ _(_)__ ___    /_\      | |  ___ ___ ___ ___ __\ \  | |    / __| ___ _ ___ _(_)__ ___  | _ )      | |  a rough time, let me   | |          | __|_ _(_) (_)_ _  __ _         | |
      | | |    \__ \/ -_) '_\ V / / _/ -_)  / _ \     | | |___|___|___|___|___> > | |    \__ \/ -_) '_\ V / / _/ -_) | _ \      | |  help you by not adding | |          | _/ _` | | | | ' \/ _` |        | |
      | | |    |___/\___|_|  \_/|_\__\___| /_/ \_\    | |                    /_/  | |    |___/\___|_|  \_/|_\__\___| |___/      | |  to the burden.         | |          |_|\__,_|_|_|_|_||_\__, |        | |
      | |_|                                           |_|                         |_|                                           |_|                         |_|                             |___/         |_|
      | | |                                           | |                         | |                                           | |                         | |                                           | |
      | | |                                           | |                         | |                                           | |                         | |                                           | |
      | | |___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___| |                         | |___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___| |                         | |___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___| |
      | |_|___|___|___|___|___|___|___|___|___|___|___|_|                         |_|___|___|___|___|___|___|___|___|___|___|___|_|                         |_|___|___|___|___|___|___|___|___|___|___|___|_|
      |
      |
      |
      |   ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___                           ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___
      | |___|___|___|___|___|___|___|___|___|___|___|___|                         |___|___|___|___|___|___|___|___|___|___|___|___|
      | | |                                           | |                         | |                                           | |
      | | |                                           | |                         | |                                           | |
      | | |                                           | |                         | |                                           | |
      | |_|     ___              _           ___      |_|                    __   |_|     ___              _           ___      |_|
      | | |    / __| ___ _ ___ _(_)__ ___   |   \     | |  ___ ___ ___ ___ __\ \  | |    / __| ___ _ ___ _(_)__ ___   | __|     | |
      | | |    \__ \/ -_) '_\ V / / _/ -_)  | |) |    | | |___|___|___|___|___> > | |    \__ \/ -_) '_\ V / / _/ -_)  | _|      | |
      | | |    |___/\___|_|  \_/|_\__\___|  |___/     | |                    /_/  | |    |___/\___|_|  \_/|_\__\___|  |___|     | |
      | |_|                                           |_|                         |_|                                           |_|
      | | |                                           | |                         | |                                           | |
      | | |                                           | |                         | |                                           | |
      | | |___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___| |                         | |___ ___ ___ ___ ___ ___ ___ ___ ___ ___ ___| |
      | |_|___|___|___|___|___|___|___|___|___|___|___|_|                         |_|___|___|___|___|___|___|___|___|___|___|___|_|
      |
      |
      |
      |""".stripMargin

  override def show(): F[Unit] = NConsole[F].writeString(text)

  override def userInput(input: Input): F[Unit] = Sync[F].unit
}
